# USBC stack configuration options

# Copyright (c) 2022 The Chromium OS Authors
# SPDX-License-Identifier: Apache-2.0

# Workaround for not being able to have commas in macro arguments
DT_COMPAT_USBC_PORT := usbc-port

menuconfig USBC_STACK
	bool "USBC Stack Support"
	default $(dt_compat_enabled,$(DT_COMPAT_USBC_PORT))
	select SMF
	select SMF_ANCESTOR_SUPPORT
	select USBC_TCPC_DRIVER
	select USBC_VBUS_DRIVER
	help
	  Enable the USBC Stack. Note that each USBC port gets its own thread.

if USBC_STACK

config USBC_THREAD_PRIORITY
	int "USBC thread priority"
	default 0
	help
	  Set thread priority of the USBC

config USBC_STACK_SIZE
	int "USBC thread stack size"
	default 1024
	help
	  Stack size of thread created for each instance.

config USBC_STATE_MACHINE_CYCLE_TIME
	int "USBC state machine cycle time in milliseconds"
	default 5
	help
	  The USBC state machine is run in a loop and the cycle time is the
	  delay before running the loop again.

module = USBC_STACK
module-str = usbc stack
source "subsys/logging/Kconfig.template.log_config"

endif # USBC_STACK
